<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <base href="../../" />
    <link rel="stylesheet" href="dmdoc.css" />
    <title>&#x2F;datum&#x2F;element&#x2F;elevation_core - TaleStation</title>
</head>
<body>
<header>
    <a href="index.html">TaleStation</a> -
    <a href="index.html#modules">Modules</a> -
    <a href="index.html#types">Types</a>
 &mdash; <a href="datum/element/elevation_core.html#var">Var Details</a> - <a href="datum/element/elevation_core.html#proc">Proc Details</a></header>
<main>
<h1>elevation_core <aside>/<a href="datum.html">datum</a>/<a href="datum/element.html">element</a>/<a href="datum/element/elevation_core.html">elevation_core</a></aside>
        
    
            <a href="https://github.com/TaleStation/TaleStation/blob/7b370f4ca4fcaccc340a51c94cabbaa45f8c9a16/code/datums/elements/elevation.dm#L91">
        <img src="git.png" width="16" height="16" title="code&#x2F;datums&#x2F;elements&#x2F;elevation.dm 91"/></a></h1>

<p>The core element attached to the turf itself. Do not use this directly!</p>
<p>Causes mobs walking over a turf with this element to be pixel shifted vertically by the pixel_shift amount.
Because of the way it's structured, it should only be added through the elevation element (without the core suffix).</p>
<p>To explain: in the case of multiple objects with (different instances of) the element being stacked on one turf somehow,
we only want that with the highest pixel shift value to apply it to the turf, so that the mobs standing on top of it all
doesn't look like it's floating off the pile.</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr>
            <tr><th><a href="datum/element/elevation_core.html#var/pixel_shift">pixel_shift</a></th><td>The amount of pixel_z applied to the mob standing on the turf.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr>
            <tr><th><a href="datum/element/elevation_core.html#proc/on_entered">on_entered</a></th><td>Since the element can be removed outside of Destroy(),
and even then, signals are passed down to the new turf,
it's necessary to clear them here.</td></tr>
            <tr><th><a href="datum/element/elevation_core.html#proc/on_set_buckled">on_set_buckled</a></th><td>If the mob is buckled or unbuckled to/from a vehicle, shift it up/down
.
Null the pixel shift if the mob is buckled to something different that's not a mob or vehicle</td></tr></table>
    <h2 id="var">Var Details</h2><h3 id="var/pixel_shift"><aside class="declaration">var </aside>pixel_shift
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/TaleStation/TaleStation/blob/7b370f4ca4fcaccc340a51c94cabbaa45f8c9a16/code/datums/elements/elevation.dm#L97">
        <img src="git.png" width="16" height="16" title="code&#x2F;datums&#x2F;elements&#x2F;elevation.dm 97"/></a></h3>
        <p>The amount of pixel_z applied to the mob standing on the turf.</p><h2 id="proc">Proc Details</h2><h3 id="proc/on_entered"><aside class="declaration">proc </aside>on_entered<aside>(/<a href="turf.html">turf</a>/source, /<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/entered, /<a href="atom.html">atom</a>/old_loc) 
        
    
            <a href="https://github.com/TaleStation/TaleStation/blob/7b370f4ca4fcaccc340a51c94cabbaa45f8c9a16/code/datums/elements/elevation.dm#L139">
        <img src="git.png" width="16" height="16" title="code&#x2F;datums&#x2F;elements&#x2F;elevation.dm 139"/></a></aside>
        </h3>
        <p>Since the element can be removed outside of Destroy(),
and even then, signals are passed down to the new turf,
it's necessary to clear them here.</p><h3 id="proc/on_set_buckled"><aside class="declaration">proc </aside>on_set_buckled<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/source, /<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/new_buckled) 
        
    
            <a href="https://github.com/TaleStation/TaleStation/blob/7b370f4ca4fcaccc340a51c94cabbaa45f8c9a16/code/datums/elements/elevation.dm#L182">
        <img src="git.png" width="16" height="16" title="code&#x2F;datums&#x2F;elements&#x2F;elevation.dm 182"/></a></aside>
        </h3>
        <p>If the mob is buckled or unbuckled to/from a vehicle, shift it up/down
.
Null the pixel shift if the mob is buckled to something different that's not a mob or vehicle</p>
<p>The reason is that it's more important for a mob to look like they're actually buckled to a bed
or something anchored to the floor than atop of whatever else is on the same turf.</p></main>
<footer>
    tgstation.dme
    <a href="https://github.com/TaleStation/TaleStation/tree/7b370f4ca4fcaccc340a51c94cabbaa45f8c9a16">7b370f4</a>
        (master) &mdash; <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.8.0</a></footer>
</body>
</html>
